\subsection{E2017120401: Base Performance Evaluation}
 
\subsubsection{Purpose}
 
\subsubsection{Settings} 
Hardware: HaoDesk
Software: BaseX 6.8.7, Java 1.8.0\_151.

- XML Dataset
An XMark dataset xmark600.xml sized 66.9 GB. A BaseX databases
'xmark600' is created by the server using command:
 > create db xmark600 xmark600.xml

- Queries
xm1 -- xm6 used in ADBIS submission attached at the bottom.

* Experiment Design
Firstly, a BaseX instance Server runs in server mode started by
the following command on COM:
  > java -Xmx4g -xms2g -cp BaseX897.jar org.basex.BaseXServer
Note the databases in Server are all not in main memory mode.

Then, a java program APP runs on COM in charge of sending an input
query to Server via local network and saving results returned from
Server to memory(short for mem) or disk depending on settings. An
input query Query that will be processed in APP is first rewritten
into the following XQuery expression:
  > for $node in db:open('xmark600')Query return $node

The results are stored either in memory or on disk depending on APP's
settings:
a) memory: the results are stored in memory and then discarded after
	 the experiments.
b) disk: the results are stored in disk and will be preserved after
   the experiments.


Results
- Timing
The execution time is measured in APP. The time period between
starting sending a query and finishing receiving the results is measured
as execution time. Each query is evaluated 5 times (exception xm1 for 3
times).

- Results
We removed the first run and take the average of the rest as
the execution time in the following table.

------------------------------------------------
| query  | storage | time(s)  |   result size  |
------------------------------------------------
|xm1.org |  disk   | 3257.13  | 60,048,845,586 |
|xm1.org |   mem   |    N/A   | 60,048,845,586 |
|xm2.org |  disk   |    0.01  |              0 |
|xm2.org |   mem   |    0.00  |              0 |
|xm3.org |  disk   |  105.11  |    922,270,281 |
|xm3.org |   mem   |  107.21  |    922,270,281 |
|xm4.org |  disk   |  126.00  |  1,583,959,305 |
|xm4.org |   mem   |  112.32  |  1,583,959,305 |
|xm5.org |  disk   |  112.94  |    989,346,990 |
|xm5.org |   mem   |  106.88  |    989,346,990 |
|xm6.org |  disk   |   78.08  |  1,351,708,787 |
|xm6.org |   mem   |   76.21  |  1,351,708,787 |
------------------------------------------------
Note: The result of xm2.org is always empty. The reason is still
under investigation.

* Observations
- Storage has small influence on execution time.
I noticed one thing that the execution time is pretty similar for
xm3.org and xm5.org. This is because the bottleneck is on the worker's
side but not on the master's side. For example, for xm3.org,
it takes 105s to receive about 880MB data, i.e. around 8MB/s, which
is much slower than the speed of both memory and disk. Thus,
the performance are much similar.

- The execution time is steady.
Compared with the ADBIS study, the execution time is much more
steady. My explanation to this result is that due to the large scale
of data, the fluctuation has a weaker influence on the execution
time (milliseconds -> seconds). For you reference, the results and
summary are saved in matsu-lab99:/home2/hao/fragmentation/20171202)
By the way, since the results are still not fully correct, I will
commit my code later after solve them.


Sincerely,
Wei.
